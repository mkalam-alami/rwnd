<!doctype html>
<html>
<head>
    <meta charset="utf-8" />
    <title>rwnd game</title>
    <link rel="stylesheet" type="text/css" href="style.css" />
</head>
<body>

<h1>rwnd game</h1>

<div id="rwnd-container">
</div>

<script id="rwnd-template" type="text/template">
<div id="{{elId}}">
    <p class="rwnd-text">{{text}}</p>
    <p class="rwnd-links">
    {{#links}}
        <a id="{{linkElId}}" href="#" data-rwnd-state="{{stateId}}" data-rwnd-link="{{linkId}}">[ {{linkText}} ]</a>
    {{/links}}
    </p>
</div>
</script>

<script type="text/javascript" src="lib/js-yaml.min.js"></script>
<script type="text/javascript" src="lib/mustache.min.js"></script>
<script type="text/javascript" src="lib/rwnd.js"></script>
<script type="text/javascript">
rwnd.loadFile('game.yaml', 'rwnd-container', 'rwnd-template', function(game) {
    if (!game) { 
        rwnd.loadFile('game.json', 'rwnd-container', 'rwnd-template', function(game) { // look for a json version?
            if (!game) rwnd.loadFile('game.yaml.example', 'rwnd-container', 'rwnd-template'); // or just load the demo file.
        });
    }
});
</script>

</body>
</html>